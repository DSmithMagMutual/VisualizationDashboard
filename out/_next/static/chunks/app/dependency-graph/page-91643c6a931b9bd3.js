(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[383],{2431:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>I});var a=r(5155),o=r(2115),l=r(4581),n=r(264),s=r(700),i=r(9816),d=r(7348),c=r(7744),u=r(804),x=r(7918),f=r(4572),h=r(5222),p=r(8534),g=r(4426),m=r(7857),b=r(1218),y=r(6632),A=r(1101),j=r(7623);let v={"To Do":"#dc3545","In Progress":"#fd7e14",Done:"#198754",Ready:"#6c757d","Ready for Release":"#6c757d",Creating:"#fd7e14",Validating:"#0d6efd",UAT:"#fd7e14",default:"#6c757d"},w={"OG Team":"#6C63FF","Special Forces":"#FF6B6B",Avengers:"#4ECDC4","Hogwarts Express":"#45B7D1","Data Divers":"#96CEB4",Other:"#FFEAA7",default:"#6c757d"};function k(e){if(!e)return w.default;if(w[e])return w[e];let t=0;for(let r=0;r<e.length;r++)t=e.charCodeAt(r)+((t<<5)-t);let r=(0xffffff&t).toString(16).toUpperCase();return"#"+"00000".substring(0,6-r.length)+r}function C(e){let{data:t,title:r="Dependency Graph",teamFilter:n=[]}=e,i=(0,o.useRef)(null),d=(0,o.useRef)(null),c=(0,o.useMemo)(()=>{let e=[],r=[];return Object.entries(t.columns).forEach(t=>{let[a,o]=t;o.forEach(t=>{let o=0===n.length||t.team&&n.includes(t.team),l=t.stories.filter(e=>0===n.length||e.team&&n.includes(e.team));(o||l.length>0)&&(e.push({id:t.key,label:t.key,type:"epic",status:t.status,statusCategory:t.statusCategory,team:t.team,url:t.url,summary:t.summary,iteration:a}),l.forEach(o=>{e.push({id:o.key,label:o.key,type:"story",status:o.status,statusCategory:o.statusCategory,team:o.team,url:o.url,summary:o.summary,iteration:a}),r.push({source:t.key,target:o.key,type:"epic-story"})}))})}),{nodes:e,links:r}},[t,n]);(0,o.useEffect)(()=>{if(!i.current||0===c.nodes.length)return;let e=j.Ltv(i.current);e.selectAll("*").remove();let t={top:20,left:20},r=j.s_O().scaleExtent([.1,4]).on("zoom",e=>{a.attr("transform",e.transform)});d.current=r,e.call(r);let a=e.attr("width",1200).attr("height",800).append("g").attr("transform","translate(".concat(t.left,",").concat(t.top,")")),o=j.tXi(c.nodes).force("link",j.kJC(c.links).id(e=>e.id).distance(150)).force("charge",j.xJS().strength(-500)).force("center",j.jTM(600,400)).force("collision",j.eRw().radius(40)),l=a.append("g").selectAll("line").data(c.links).enter().append("line").attr("stroke","#999").attr("stroke-opacity",.6).attr("stroke-width",2),n=a.append("g").selectAll("g").data(c.nodes).enter().append("g").call(j.$Er().on("start",function(e,t){e.active||o.alphaTarget(.3).restart(),t.fx=t.x,t.fy=t.y}).on("drag",function(e,t){t.fx=e.x,t.fy=e.y}).on("end",function(e,t){e.active||o.alphaTarget(0),t.fx=null,t.fy=null}));return n.append("circle").attr("r",e=>"epic"===e.type?25:18).attr("fill",e=>v[function(e){let t=e.toLowerCase();return t.includes("done")||t.includes("complete")||t.includes("closed")||t.includes("resolved")?"Done":t.includes("progress")||t.includes("creating")||t.includes("uat")||t.includes("validating")||t.includes("testing")||t.includes("review")||t.includes("development")||t.includes("in development")?"In Progress":t.includes("ready")||t.includes("to do")||t.includes("open")||t.includes("new")||t.includes("backlog")||t.includes("selected for development")||t.includes("ready for development")?"To Do":"To Do"}(e.status)]||v.default).attr("stroke",e=>k(e.team)).attr("stroke-width",3),n.append("text").text(e=>e.label).attr("text-anchor","middle").attr("dy",".35em").attr("font-size","11px").attr("fill","white").attr("font-weight","bold"),n.filter(e=>"epic"===e.type).append("text").text(e=>e.iteration||"").attr("text-anchor","middle").attr("dy","1.8em").attr("font-size","10px").attr("fill","#666").attr("font-weight","500"),n.append("title").text(e=>"".concat(e.label,"\n").concat(e.summary,"\nStatus: ").concat(e.status,"\nTeam: ").concat(e.team||"N/A","\nIteration: ").concat(e.iteration||"N/A")),o.on("tick",()=>{l.attr("x1",e=>e.source.x).attr("y1",e=>e.source.y).attr("x2",e=>e.target.x).attr("y2",e=>e.target.y),n.attr("transform",e=>"translate(".concat(e.x,",").concat(e.y,")"))}),()=>{o.stop()}},[c]);let u=[{label:"Epic",type:"epic",color:"#6c757d"},{label:"Story",type:"story",color:"#6c757d"},{label:"To Do",status:"To Do",color:v["To Do"]},{label:"In Progress",status:"In Progress",color:v["In Progress"]},{label:"Done",status:"Done",color:v.Done}],x=Array.from(new Set(c.nodes.map(e=>e.team).filter(Boolean))),f=Array.from(new Set(c.nodes.map(e=>e.iteration).filter(Boolean))).sort(),h=(0,o.useCallback)(()=>{if(!i.current||!d.current||0===c.nodes.length)return;let e=j.Ltv(i.current),t={top:20,right:20,bottom:20,left:20},r=j.Xxv(c.nodes,e=>e.x),a=j.Xxv(c.nodes,e=>e.y);if(void 0===r[0]||void 0===a[0])return;let o={x:r[0]-50,y:a[0]-50,width:r[1]-r[0]+100,height:a[1]-a[0]+100},l=Math.min((1200-t.left-t.right)/o.width,(800-t.top-t.bottom)/o.height),n=j.GSI.translate((1200-o.width*l)/2-o.x*l,(800-o.height*l)/2-o.y*l).scale(l);e.transition().duration(750).call(d.current.transform,n)},[c.nodes]);return(0,a.jsx)(b.A,{sx:{height:"100%",display:"flex",flexDirection:"column",backgroundColor:"#ffffff",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:(0,a.jsxs)(y.A,{sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:[(0,a.jsx)(s.A,{variant:"h6",gutterBottom:!0,sx:{color:"#212529",fontWeight:600},children:r}),(0,a.jsxs)(l.A,{sx:{flexGrow:1,display:"flex",flexDirection:"column",gap:2},children:[(0,a.jsxs)(l.A,{sx:{display:"flex",flexWrap:"wrap",gap:2,mb:2},children:[(0,a.jsxs)(l.A,{sx:{display:"flex",flexDirection:"column",gap:1},children:[(0,a.jsx)(s.A,{variant:"subtitle2",sx:{mb:1,color:"#212529",fontWeight:600},children:"Navigation:"}),(0,a.jsx)(p.A,{variant:"outlined",size:"small",onClick:h,sx:{mb:1},children:"View All"}),(0,a.jsx)(s.A,{variant:"caption",sx:{color:"#6c757d"},children:"• Scroll to zoom in/out"}),(0,a.jsx)(s.A,{variant:"caption",sx:{color:"#6c757d"},children:"• Drag to pan around"}),(0,a.jsx)(s.A,{variant:"caption",sx:{color:"#6c757d"},children:"• Drag nodes to rearrange"})]}),(0,a.jsxs)(l.A,{sx:{display:"flex",flexDirection:"column",gap:1},children:[(0,a.jsx)(s.A,{variant:"subtitle2",sx:{mb:1,color:"#212529",fontWeight:600},children:"Status Colors:"}),(0,a.jsx)(l.A,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:u.map((e,t)=>(0,a.jsx)(A.A,{label:e.label,size:"small",sx:{backgroundColor:e.color,color:"white",fontSize:"0.75rem"}},t))})]}),(0,a.jsxs)(l.A,{sx:{display:"flex",flexDirection:"column",gap:1},children:[(0,a.jsx)(s.A,{variant:"subtitle2",sx:{mb:1,color:"#212529",fontWeight:600},children:"Teams (Border Colors):"}),(0,a.jsx)(l.A,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:x.map((e,t)=>(0,a.jsx)(A.A,{label:e||"Unknown",size:"small",sx:{border:"2px solid ".concat(k(e||"")),backgroundColor:"#ffffff",color:"#212529",fontSize:"0.75rem"}},t))})]}),(0,a.jsxs)(l.A,{sx:{display:"flex",flexDirection:"column",gap:1},children:[(0,a.jsx)(s.A,{variant:"subtitle2",sx:{mb:1,color:"#212529",fontWeight:600},children:"Iterations:"}),(0,a.jsx)(l.A,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:f.map((e,t)=>(0,a.jsx)(A.A,{label:e,size:"small",sx:{backgroundColor:"#f0f0f0",color:"#333",fontSize:"0.75rem"}},t))})]})]}),(0,a.jsx)(l.A,{sx:{flexGrow:1,display:"flex",justifyContent:"center",alignItems:"center"},children:0===c.nodes.length?(0,a.jsx)(s.A,{variant:"body2",sx:{color:"#6c757d"},children:"No data available for dependency graph"}):(0,a.jsx)("svg",{ref:i,style:{border:"1px solid #ddd",borderRadius:"4px",backgroundColor:"#fafafa"}})}),(0,a.jsxs)(l.A,{sx:{display:"flex",justifyContent:"space-between",mt:2},children:[(0,a.jsxs)(s.A,{variant:"body2",sx:{color:"#6c757d"},children:["Total Issues: ",c.nodes.length]}),(0,a.jsxs)(s.A,{variant:"body2",sx:{color:"#6c757d"},children:["Dependencies: ",c.links.length]}),(0,a.jsxs)(s.A,{variant:"body2",sx:{color:"#6c757d"},children:["Iterations: ",f.length]}),(0,a.jsxs)(s.A,{variant:"body2",sx:{color:"#6c757d"},children:["Teams: ",x.length]})]})]})]})})}var D=r(3592);function I(){let[e,t]=(0,o.useState)(""),[r,b]=(0,o.useState)(null),[y,A]=(0,o.useState)([]),[j,v]=(0,o.useState)(!1);(0,o.useEffect)(()=>{e&&(v(!0),(0,D.ak)(e).then(e=>{e&&(b(e),A([]))}).catch(e=>{console.error("Failed to load data:",e)}).finally(()=>{v(!1)}))},[e]);let w=(0,o.useMemo)(()=>{if(!r||!r.columns)return[];let e=new Set;return Object.values(r.columns).forEach(t=>{t.forEach(t=>{t.team&&e.add(t.team),Array.isArray(t.stories)&&t.stories.forEach(t=>{t.team&&e.add(t.team)})})}),Array.from(e).sort()},[r]);return(0,a.jsx)(l.A,{sx:{background:"#f8f9fa",minHeight:"100vh",p:4},children:(0,a.jsxs)(n.A,{maxWidth:"xl",children:[(0,a.jsxs)(l.A,{sx:{mb:4},children:[(0,a.jsx)(s.A,{variant:"h4",gutterBottom:!0,sx:{color:"#212529",fontWeight:700},children:"Jira Dependency Graph"}),(0,a.jsx)(s.A,{variant:"body1",color:"text.secondary",sx:{mb:3,color:"#6c757d"},children:"Visualize dependencies between epics and stories with color-coded status and team information."}),(0,a.jsxs)(l.A,{sx:{display:"flex",gap:3,flexWrap:"wrap",mb:3,alignItems:"flex-end"},children:[(0,a.jsx)(l.A,{sx:{minWidth:250},children:(0,a.jsxs)(i.A,{fullWidth:!0,size:"small",children:[(0,a.jsx)(d.A,{id:"data-source-label",sx:{color:"#495057",fontWeight:500,"&.Mui-focused":{color:"#0d6efd"},"&.MuiInputLabel-shrink":{color:"#0d6efd"}},children:"Data Source"}),(0,a.jsxs)(c.A,{labelId:"data-source-label",value:e,label:"Data Source",onChange:e=>t(e.target.value),sx:{backgroundColor:"#ffffff","& .MuiOutlinedInput-notchedOutline":{borderColor:"#dee2e6"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"#adb5bd"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#0d6efd"},"& .MuiInputLabel-root.Mui-focused":{color:"#0d6efd"}},children:[(0,a.jsx)(u.A,{value:"board-saveAdvice",children:"Board Save Advice (ADVICE)"}),(0,a.jsx)(u.A,{value:"board-savePDD",children:"Board Save PDD"})]})]})}),(0,a.jsx)(l.A,{sx:{minWidth:300},children:(0,a.jsxs)(i.A,{fullWidth:!0,size:"small",children:[(0,a.jsx)(d.A,{id:"team-filter-label",sx:{color:"#495057",fontWeight:500,"&.Mui-focused":{color:"#0d6efd"},"&.MuiInputLabel-shrink":{color:"#0d6efd"}},children:"Filter by Team"}),(0,a.jsx)(c.A,{labelId:"team-filter-label",multiple:!0,value:y,onChange:e=>A("string"==typeof e.target.value?e.target.value.split(","):e.target.value),input:(0,a.jsx)(x.A,{label:"Filter by Team"}),renderValue:e=>0===e.length?"All Teams":e.join(", "),sx:{backgroundColor:"#ffffff","& .MuiOutlinedInput-notchedOutline":{borderColor:"#dee2e6"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"#adb5bd"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#0d6efd"},"& .MuiInputLabel-root.Mui-focused":{color:"#0d6efd"}},children:w.map(e=>(0,a.jsxs)(u.A,{value:e,children:[(0,a.jsx)(f.A,{checked:y.indexOf(e)>-1}),(0,a.jsx)(h.A,{primary:e})]},e))})]})}),(0,a.jsx)(l.A,{children:(0,a.jsx)(p.A,{variant:"outlined",size:"small",color:"primary",onClick:async()=>{if(e)try{v(!0);let t=await (0,D.ak)(e);t&&b(t)}catch(e){console.error("Failed to reload data:",e)}finally{v(!1)}},startIcon:(0,a.jsx)(m.A,{}),sx:{fontWeight:600,borderRadius:1,borderColor:"#0d6efd",color:"#0d6efd","&:hover":{borderColor:"#0b5ed7",backgroundColor:"rgba(13, 110, 253, 0.04)"}},children:"Refresh Data"})})]})]}),(0,a.jsx)(l.A,{sx:{width:"100%"},children:j?(0,a.jsx)(l.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"400px"},children:(0,a.jsx)(g.A,{size:60})}):r?(0,a.jsx)(C,{data:r,title:"Dependency Graph - ".concat(e),teamFilter:y}):(0,a.jsx)(l.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"400px"},children:(0,a.jsx)(s.A,{variant:"h6",sx:{color:"#6c757d"},children:"Please select a data source to view the dependency graph"})})}),(0,a.jsxs)(l.A,{sx:{mt:4},children:[(0,a.jsx)(s.A,{variant:"h6",gutterBottom:!0,sx:{color:"#212529",fontWeight:600},children:"How to Use"}),(0,a.jsxs)(s.A,{variant:"body2",paragraph:!0,sx:{color:"#6c757d"},children:["• ",(0,a.jsx)("strong",{children:"Epics"})," are shown as larger circles, ",(0,a.jsx)("strong",{children:"Stories"})," as smaller circles"]}),(0,a.jsxs)(s.A,{variant:"body2",paragraph:!0,sx:{color:"#6c757d"},children:["• ",(0,a.jsx)("strong",{children:"Node colors"})," represent status: Red (To Do), Orange (In Progress), Green (Done)"]}),(0,a.jsxs)(s.A,{variant:"body2",paragraph:!0,sx:{color:"#6c757d"},children:["• ",(0,a.jsx)("strong",{children:"Border colors"})," represent teams"]}),(0,a.jsxs)(s.A,{variant:"body2",paragraph:!0,sx:{color:"#6c757d"},children:["• ",(0,a.jsx)("strong",{children:"Lines"})," show dependencies between epics and their stories"]}),(0,a.jsxs)(s.A,{variant:"body2",paragraph:!0,sx:{color:"#6c757d"},children:["• ",(0,a.jsx)("strong",{children:"Drag nodes"})," to rearrange the graph layout"]}),(0,a.jsxs)(s.A,{variant:"body2",paragraph:!0,sx:{color:"#6c757d"},children:["• ",(0,a.jsx)("strong",{children:"Hover over nodes"})," to see detailed information"]})]})]})})}},3592:(e,t,r)=>{"use strict";r.d(t,{ak:()=>o});let a={"board-saveAdvice":"board-saveAdvice.json","board-savePDD":"board-savePDD.json"};async function o(e){try{let t=a[e];if(!t)return console.error("Unknown data source: ".concat(e)),null;let r=await fetch("/".concat(t));if(!r.ok)throw Error("Failed to load ".concat(t,": ").concat(r.statusText));return await r.json()}catch(t){return console.error("Error loading data source ".concat(e,":"),t),null}}},7153:(e,t,r)=>{Promise.resolve().then(r.bind(r,2431))}},e=>{var t=t=>e(e.s=t);e.O(0,[935,476,710,9,434,58,441,684,358],()=>t(7153)),_N_E=e.O()}]);